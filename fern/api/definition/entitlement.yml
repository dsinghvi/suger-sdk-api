imports:
  commons: commons.yml
  
services:
  http:
    EntitlementService:
      auth: true
      base-path: /org/{orgId}
      path-parameters:
        orgId:
          docs: Organization ID
          type: string
      endpoints:
        addEntitlementCredit:
          path: /addEntitlementCredit
          method: POST
          docs: >-
            Add Credit Amount to the given Entitlement. The credit amount is
            accumulated & saved in the current Entitlement Term of the gvien
            Entitlement.
          display-name: Add Credit Amount in Entitlement.
          request:
            body: AddEntitlementCreditParams
          response: AddEntitlementCreditResponse
        
        getForBuyer:
          path: /buyer/{buyerId}/entitlement
          method: GET
          display-name: List all entitlements of the buyer
          path-parameters:
            buyerId:
              docs: Buyer ID
              type: string
          response: list<commons.WorkloadEntitlement>
        
        getAll:
          path: /entitlement
          method: GET
          display-name: List all entitlements under the organization
          response: list<commons.WorkloadEntitlement>
        
        get:
          path: /entitlement/{entitlementId}
          method: GET
          display-name: Get entitlement
          path-parameters:
            entitlementId:
              docs: Entitlement ID
              type: string
          response: commons.WorkloadEntitlement
        
        updateName:
          path: /entitlement/{entitlementId}/entitlementName
          method: PATCH
          display-name: Update entitlement name
          path-parameters:
            entitlementId:
              docs: Entitlement ID
              type: string
          request:
            body: UpdateEntitlementNameParams
          response: commons.WorkloadEntitlement
        
        getForOffer:
          path: /offer/{offerId}/entitlement
          method: GET
          display-name: List all entitlements under the offer
          path-parameters:
            offerId:
              docs: Offer ID
              type: string
          response: list<commons.WorkloadEntitlement>
        
        getForPartner:
          path: /partner/{partner}/entitlement
          method: GET
          display-name: List all entitlements under the partner
          path-parameters:
            partner:
              docs: Cloud Partner
              type: string
          response: list<commons.WorkloadEntitlement>
        
        getForProduct:
          path: /product/{productId}/entitlement
          method: GET
          display-name: List all entitlements under the product
          path-parameters:
            productId:
              docs: Product ID
              type: string
          response: list<commons.WorkloadEntitlement>

types:
  AddEntitlementCreditParams:
    properties:
      creditAmountIncrement: double
      entitlementID: string
      organizationID: string

  AddEntitlementCreditResponse:
    properties:
      creditAmountIncrement: optional<double>
      entitlementID: optional<string>
      entitlementTermID: optional<string>
      newCreditAmount: optional<double>
      organizationID: optional<string>

  UpdateEntitlementNameParams:
    properties:
      id: optional<string>
      name: optional<string>
      organizationID: optional<string>
